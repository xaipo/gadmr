<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="YanapayRio">
  <!--view-title="{{chat.name}}">-->
  <ion-content class="padding">
    <img ng-show="imgURI !== undefined" ng-src="{{imgURI}}">
    <img ng-show="imgURI === undefined" ng-src="http://placehold.it/300x300">
    <button class="button" ng-click="takePicture()">Take Picture</button>
    <br/>
    <br/>

    <div class="container-fluid">

      <div class="panel panel-primary">
        <div class="panel-heading text-center">
          <img src="img/ICONO.png" style="width: 30%;">
        </div>
        <div class="panel-body">
          <form name="formUserPost" data-ng-init="frmUserPost.procesado=false"
                class="form-horizontal" role="form"
                data-ng-submit="createPost(picFile);">
            <fieldset data-ng-disabled="false">
              <div class="row">
                <div class="form-group">
                  <label class="control-label col-xs-5">Titulo:</label>

                  <div class="col-xs-6">
                    <input class="form-control" style="text-transform: none" type="text" data-ng-model=frmUserPost.postTitle
                           required>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="form-group">
                  <label class="control-label col-xs-5">Imagen:</label>

                  <div class="col-xs-6">
                    <input class="" type="file" ngf-select ng-model="picFile" name="file"
                           accept="image/*"
                           ngf-max-size="2MB" class="" required>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="form-group text-center">
                  <img ng-show="formUserPost.file.$valid" ngf-thumbnail="!picFile.$error && picFile"
                       class="thumb img-thumbnail img-responsive">
                  <input type="button" class="btn btn-default" ng-click="picFile = null" ng-show="picFile"
                         value="Quitar Imagen"/>
                </div>
              </div>
              <div class="row">
                <div class="form-group">
                  <label class="control-label col-xs-5">Detalle:</label>

                  <div class="col-xs-6">
                    <textarea style="text-transform: none" class="form-control" data-ng-model="frmUserPost.postDetail"></textarea>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="form-group">
                  <label class="control-label col-xs-5">Geo Localizacion:</label>

                  <div class="col-xs-6">
                    <ui-gmap-google-map center='map.center' zoom='map.zoom'>
                      <ui-gmap-marker coords="marker.coords" options="marker.options"
                                      events="marker.events" idkey="marker.id">
                      </ui-gmap-marker>
                    </ui-gmap-google-map>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="form-group">
                  <label class="control-label col-xs-5">Categoria:</label>

                  <div class="col-xs-6">
                    <select class="form-control" data-ng-model="frmUserPost.category"
                            name="category"
                            data-ng-options="item.category for item in categories"></select>

                  </div>
                </div>
              </div>

              <div class="row text-center">
                <div class="form-group">
                  <input type="button" class="btn btn-default" value="Cancelar"
                         ng-click="Regresar()">
                  <input type="submit" class="btn btn-primary" value="Crear"
                  >
                </div>
              </div>
            </fieldset>

          </form>


        </div>
      </div>


    </div>

    <!--<img ng-src="{{chat.face}}" style="width: 64px; height: 64px">-->
    <!--<p>-->
      <!--{{chat.lastText}}-->
    <!--</p>-->
  </ion-content>
</ion-view>
